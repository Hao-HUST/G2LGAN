addpath(genpath('/home/vcc/3d_GAN_evaluation/matlab'))

% %% config
% dims -- the dim of 3D shape
% parts -- the amount of semantic parts
% type -- data type T-training data G-generated data
% clusterNums -- cluster number
% top_step -- 拟合GMM后，计算得到的生成数据的概率密度，分别选取值比较大的前百分之K,求其均值，并画图，n由这里给出
% paths -- 要画图比较的数据
% names -- 数据名称
% types -- data type G--generated data GT--groundtruth
config = struct('category',"test_40010",...
                'dim','32',...
                'parts',4,...
                'part_names',["background","back","seat","legs","armrest"],...
                'clusterNums',[5,10,15,20,25,30,35,40],...
                'top_step',[5,10,15,20,25,30,35,40],...
                'paths',["../data/cluster/JSD/adj/pair/generatedSet_32/chair_with_4_parts/GT/GT.mat",...
                         "../data/cluster/JSD/adj/pair/generatedSet_32/chair_with_4_parts/GT/GT.mat",...
                         "../data/cluster/JSD/adj/pair/generatedSet_32/chair_with_4_parts/3D_gan_chair_32/3D_gan_chair_32.mat",...
                         "../data/cluster/JSD/adj/pair/generatedSet_32/chair_with_4_parts/baseline_new_40010/baseline_new_40010.mat",...
                         "../data/cluster/JSD/adj/pair/generatedSet_32/chair_with_4_parts/BS_with_PS_local_dis_1133_40010/BS_with_PS_local_dis_1133_40010.mat"],...
                'names',["GT", "GT", "3D_GAN", "BASELINE", "G2LGAN"],...
                'types',["GT", "GT","G","G", "G"]);         
            
plot_cluster_JSD_adj_pair(config);

config.paths = ["../data/cluster/JSD/adj/parts/generatedSet_32/chair_with_4_parts/GT/GT.mat",...
                "../data/cluster/JSD/adj/parts/generatedSet_32/chair_with_4_parts/GT/GT.mat",...
                 "../data/cluster/JSD/adj/parts/generatedSet_32/chair_with_4_parts/3D_gan_chair_32/3D_gan_chair_32.mat",...
                 "../data/cluster/JSD/adj/parts/generatedSet_32/chair_with_4_parts/baseline_new_40010/baseline_new_40010.mat",...
                 "../data/cluster/JSD/adj/parts/generatedSet_32/chair_with_4_parts/BS_with_PS_local_dis_1133_40010/BS_with_PS_local_dis_1133_40010.mat"
                 ];
plot_cluster_JSD_adj_parts(config);



config_com = struct('category',"test_40010",...
                'dim','32',...
                'parts',4,...
                'part_names',["background","back","seat","legs","armrest"],...
                'clusterNums',[5,10,15,20,25,30,35,40],...
                'top_step',[5,10,15,20,25,30,35,40],...
                'paths',["../data/cluster/JSD/comp/generatedSet_32/chair_with_4_parts/GT/GT.mat",...
                "../data/cluster/JSD/comp/generatedSet_32/chair_with_4_parts/GT/GT.mat",...
                "../data/cluster/JSD/comp/generatedSet_32/chair_with_4_parts/3D_gan_chair_32/3D_gan_chair_32.mat",...
                "../data/cluster/JSD/comp/generatedSet_32/chair_with_4_parts/baseline_new_40010/baseline_new_40010.mat",...
                "../data/cluster/JSD/comp/generatedSet_32/chair_with_4_parts/BS_with_PS_local_dis_1133_40010/BS_with_PS_local_dis_1133_40010.mat",...
                "../data/cluster/JSD/comp/generatedSet_32/chair_with_4_parts/BS_with_PS_local_dis_1133_PR/BS_with_PS_local_dis_1133_PR.mat"],...
                'names',["GT", "GT", "3D_GAN", "BASELINE", "G2LGAN", "G2LGAN & PR"],...
                'types',["GT", "GT","G", "G", "G", "G"]);     

plot_cluster_JSD_component(config_com);


